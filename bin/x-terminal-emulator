#!/bin/sh
fail() {
        echo "$1" >&2
        exit 1
}

cmd_exists() {
        command -v "$1" >/dev/null 2>&1
}

if cmd_exists xterm; then
  exec xterm -maximized "$@"
elif cmd_exists urxvtd; then
  export RXVT_SOCKET="${XDG_RUNTIME_DIR}/rxvt${DISPLAY}.sck"
  urxvtc "$@"
  if [ $? -eq 2 ]; then
    urxvtd -q -o -f
    urxvtc "$@"
  fi
  exit
elif cmd_exists urxvt; then
  exec urxvt "$@"
elif test -x /usr/bin/x-terminal-emulator; then
  exec /usr/bin/x-terminal-emulator "@"
else
  fail "No emulator found"
fi
