#!/usr/bin/awk -f
function urlencode(s,c,i,r,l) {
  l = length(s)
  for (i = 1; i <= l; i++) {
    c = substr(s, i, 1)
    r = r "" hex[c]
  }
  return r
}
BEGIN {
  for (i = 1; i <= 255; i++) {
    c = sprintf("%c", i)
    hex[c] = (c ~ /^[-._~0-9a-zA-Z]$/ ? c : sprintf("%%%02X", i))
  }
  for (i = 1; i < ARGC; i++)
    printf("%s%s", (i%2==1&&i>1?"&":"") (i%2==0?"=":""), urlencode(ARGV[i]), i )
}
